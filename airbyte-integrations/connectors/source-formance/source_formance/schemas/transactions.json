{
   "type":"object",
   "properties":{
      "timestamp":{
         "type":"string",
         "format":"date-time"
      },
      "postings":{
         "type":"array",
         "items":{
            "type":"object",
            "properties":{
               "amount":{
                  "type":"integer",
                  "format":"int64",
                  "minimum":0,
                  "example":100
               },
               "asset":{
                  "type":"string",
                  "example":"COIN"
               },
               "destination":{
                  "type":"string",
                  "example":"users:002"
               },
               "source":{
                  "type":"string",
                  "example":"users:001"
               }
            },
            "required":[
               "amount",
               "asset",
               "destination",
               "source"
            ],
            "$schema":"http://json-schema.org/schema#"
         }
      },
      "reference":{
         "type":"string",
         "example":"ref:001"
      },
      "metadata":{
         "type":"object",
         "nullable":true,
         "properties":{
            
         },
         "example":{
            "admin":true,
            "a":{
               "nested":{
                  "key":"value"
               }
            }
         },
         "$schema":"http://json-schema.org/schema#"
      },
      "txid":{
         "type":"integer",
         "format":"int64",
         "minimum":0
      },
      "preCommitVolumes":{
         "type":"array",
         "items":{
            "type":"object",
            "properties":{
               "address":{
                  "type":"string",
                  "example":"users:001"
               },
               "currencies":{
                  "type":"array",
                  "items":{
                     "type":"object",
                     "properties":{
                        "currency":{
                           "type":"string",
                           "example":"EUR"
                        },
                        "input":{
                           "type":"integer",
                           "format":"int64"
                        },
                        "output":{
                           "type":"integer",
                           "format":"int64"
                        },
                        "balance":{
                           "type":"integer",
                           "format":"int64"
                        }
                     },
                     "required":[
                        "input",
                        "output"
                     ],
                     "$schema":"http://json-schema.org/schema#"
                  }
               }
            }
         }
      },
      "postCommitVolumes":{
         "type":"array",
         "items":{
            "type":"object",
            "properties":{
               "address":{
                  "type":"string",
                  "example":"users:001"
               },
               "currencies":{
                  "type":"array",
                  "items":{
                     "type":"object",
                     "properties":{
                        "currency":{
                           "type":"string",
                           "example":"EUR"
                        },
                        "input":{
                           "type":"integer",
                           "format":"int64"
                        },
                        "output":{
                           "type":"integer",
                           "format":"int64"
                        },
                        "balance":{
                           "type":"integer",
                           "format":"int64"
                        }
                     },
                     "required":[
                        "input",
                        "output"
                     ],
                     "$schema":"http://json-schema.org/schema#"
                  }
               }
            }
         }
      }
   },
   "required":[
      "postings",
      "timestamp",
      "txid"
   ],
   "$schema":"http://json-schema.org/schema#"
}